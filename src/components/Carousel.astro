---
import Carousel_cards from "../components/Carousel_cards.astro"
---
<section class="mx-3xl py-xl">
    <h1 class="text-xxxlarge font-display text-center pb-xs">HØJSKOLE OPHOLD</h1>

    <!-- 45 to 80 characters (per line) -->
    <p class="text-center w-[80ch] mx-auto">Der venter dig et unikt rejseeventyr når du tager på højskole i udlandet,
        med et stærkt sammenhold og fede rejseoplevelser. Glæd dig også til inspirerende undervisning,
        der levende og aktivt forener det lærende med det legende. Se vores eventyrlige højskoleophold i udlandet</p>

    <div class="carousel-container w-[80%] m-auto relative flex flex-col gap-[1px]">
        <div class="carousel aspect-[9/16] w-[100%] relative overflow-hidden">
          <Carousel_cards class="active opacity-1 block"
          video="src/assets/videos/australien.mp4"
          caption="hej "
          >
          </Carousel_cards>
          <Carousel_cards class="hidden"></Carousel_cards>
          <Carousel_cards class="hidden"></Carousel_cards>
        </div>
        <button class="btn prev px-[1em] py-[2em] absolute translate-y-[17rem] top-[50%] outline-none border-none cursor-pointer uppercase
        font-[900] text-[#10100e] bg-vulcan-50 transition-transform duration-[0.2s] ease-in-out left-[-5%] active:translate-y-[-50%] active:scale-[0.9] focus:translate-y-[-50%] focus:scale-[0.9] hover:translate-y-[-50%] hover:scale-[0.96]">Prev</button>
        <button class="btn next px-[1em] py-[2em] absolute translate-y-[17rem] top-[50%] outline-none border-none cursor-pointer uppercase
        font-[900] text-[#10100e] bg-vulcan-50 transition-transform duration-[0.2s] ease-in-out right-[-5%] active:translate-y-[-50%] active:scale-[0.9] focus:translate-y-[-50%] focus:scale-[0.9] hover:translate-y-[-50%] hover:scale-[0.96]">Next</button>
        <div class="dots flex items-center justify-center gap-[10px]">
        </div>
    </div>
</section>

<script>
   document.addEventListener("DOMContentLoaded", function () {
  const items = document.querySelectorAll(".item");
  const dotsContainer = document.querySelector(".dots");

  // Insert dots into the DOM
  items.forEach((_, index) => {
    const dot = document.createElement("span");
    dot.classList.add("dot", "cursor-pointer", "h-[10px]", "w-[10px]", "bg-[#242421]", "transition", "duration-[0.2s]", "ease-linear", "hover:bg-[#ffffe6]");
    if (index === 0) dot.classList.add("active", "bg-[#ffffe6]");
    dot.dataset.index = index.toString();
    dotsContainer.appendChild(dot);
  });

  const dots = document.querySelectorAll(".dot");

  // Function to show a specific item
  function showItem(index) {
    items.forEach((item, idx) => {
      item.classList.toggle("hidden", idx !== index);
      dots[idx].classList.toggle("active", idx === index);
      dots[idx].classList.toggle("bg-[#ffffe6]", idx === index);
    });
  }

  // Event listeners for buttons
  document.querySelector(".prev").addEventListener("click", () => {
    const index = [...items].findIndex(item => !item.classList.contains("hidden"));
    showItem((index - 1 + items.length) % items.length);
  });

  document.querySelector(".next").addEventListener("click", () => {
    const index = [...items].findIndex(item => !item.classList.contains("hidden"));
    showItem((index + 1) % items.length);
  });

 // Event listeners for dots
  dots.forEach(dot => dot.addEventListener("click", () => showItem(parseInt((dot as HTMLElement).dataset.index!))));
}); 
</script>